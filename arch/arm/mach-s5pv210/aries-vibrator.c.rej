--- arch/arm/mach-s5pv210/aries-vibrator.c
+++ arch/arm/mach-s5pv210/aries-vibrator.c
@@ -43,11 +43,25 @@
 	struct work_struct work;
 } vibdata;
 
+#ifdef CONFIG_CPU_DIDLE
+static bool vibrator_running = false;
+
+bool vibrator_is_running(void)
+{
+    return vibrator_running;
+}
+EXPORT_SYMBOL(vibrator_is_running);
+#endif
+
 static void aries_vibrator_off(void)
 {
 	pwm_disable(vibdata.pwm_dev);
 	gpio_direction_output(GPIO_VIBTONE_EN1, GPIO_LEVEL_LOW);
 	wake_unlock(&vibdata.wklock);
+
+#ifdef CONFIG_CPU_DIDLE
+	vibrator_running = false;
+#endif
 }
 
 static int aries_vibrator_get_time(struct timed_output_dev *dev)
@@ -68,6 +82,10 @@
 	hrtimer_cancel(&vibdata.timer);
 	cancel_work_sync(&vibdata.work);
 	if (value) {
+#ifdef CONFIG_CPU_DIDLE
+		vibrator_running = true;
+#endif
+
 		wake_lock(&vibdata.wklock);
 		pwm_config(vibdata.pwm_dev, PWM_DUTY, PWM_PERIOD);
 		pwm_enable(vibdata.pwm_dev);
